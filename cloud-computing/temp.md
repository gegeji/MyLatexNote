# å¹¶è¡Œè®¡ç®— åˆ†å¸ƒå¼è®¡ç®—ï¼ˆæŠ€æœ¯ï¼‰
`å¹¶è¡Œè®¡ç®—` ï¼šhpc serverï¼Œ ä½¿ç”¨ä¸€ä¸ªå¼ºå¤§çš„æœºå™¨æˆ–è€…infinibandä¸‡å…†ç½‘ç»œè¿žæŽ¥ï¼Œåˆ†æ´¾ç»™ç³»ç»Ÿä¸­çš„å¤šä¸ªè¿ç®—å•å…ƒï¼›å…±äº«memoryï¼ˆå¯ä»¥ç›´æŽ¥è®¿é—®æ‰€æœ‰å†…å­˜ï¼‰
`åˆ†å¸ƒå¼è®¡ç®—` ï¼šclusterä¸Šè¿è¡Œï¼Œç™¾å…†ç½‘ç»œç­‰ï¼Œå°†è®¡ç®—ä»»åŠ¡åˆ†æ´¾ç»™å¤šä¸ªæœºå™¨ï¼Œå†mergeï¼›åˆ†å¸ƒå¼memoryï¼Œmessage passing
ã€€
å¿«é€ŸðŸ”œçš„åˆ†å¸ƒå¼ã€€
map/reduce
Hadoop 
spark

# ç½‘æ ¼è®¡ç®—ï¼Œäº‘è®¡ç®—ç³»ç»Ÿ

`ç½‘æ ¼è®¡ç®—`  `æ•™è‚²ç½‘æ ¼` ï¼ˆä¿¡æ¯ä¸­å¿ƒï¼‰è®¡ç®—é˜Ÿåˆ—ï¼šå°†ç©ºé—²çš„æœåŠ¡å™¨é€šè¿‡æ•™è‚²ç½‘å…±äº«
æœåŠ¡å™¨ä¸€èˆ¬ä¸æ–­ç”µï¼šè½¯ä»¶configurationï¼Œè·¯å¾„ï¼ŒçŽ¯å¢ƒå˜é‡ï¼›é€»è¾‘ä¸Šä¸€èµ·ï¼ŒåˆæœŸæ²¡æœ‰è™šæ‹ŸåŒ–
éœ€è¦æä¾›è‡ªå·±çš„è®¡ç®—èµ„æºï¼Œé™åˆ¶æˆå‘˜

`äº‘è®¡ç®—` anyone, anytime, anywhere
å…±äº«è½¯ç¡¬ä»¶ shared licenses æŒ‰éœ€æ˜“æ‹“å±• autoscaling
è®¡ç®—æ¨¡å¼
æ•°æ®é‡å¤§å¢ž
 
jpæ‘©æ ¹

å…¬å¸ï¼šçµæ´»æ€§ä¸è¶³
äº‘ï¸æœåŠ¡ï¼šAmazonï¼Œé»‘äº” å¢žåŠ æœåŠ¡å™¨ï¼Œå¹³æ—¶æµªè´¹

# åŸºæœ¬æ€æƒ³ universal

åŸºæœ¬èƒ½åŠ›éƒ½å¯é€šè¿‡ç½‘ç»œèŽ·å¾—
äº‘åº”å¯¹ç”¨æˆ·ç¡¬ä»¶å‹å¥½
ä¸éœ€è¦ç”¨æˆ·å®‰è£…å¤æ‚è½¯ä»¶ï¼Œæ•°æ®ä¿è¯å®‰å…¨ï¼ˆå¤‡ä»½ï¼‰

# å®‰å…¨ï¼šäº‘çš„å®‰å…¨ï¼Œç¬¬ä¸‰æ–¹

threat modelï¼šå‡è®¾å¹³å°æ˜¯å®‰å…¨çš„



å¯†ç å­¦

`åŒæ€åŠ å¯†` ï¼šäº‘ä¸ŠåŠ å¯†
å¯¹åŠ å¯†æ•°æ®ç›´æŽ¥è¿›è¡Œè®¡ç®—
limitationï¼šèŠ±é”€å¾ˆå¤§ï¼Œç®—æ³•é™åˆ¶

supercomputing
ã€€ã€€Keynoteï¼š DreamWorks
ã€€ã€€é›ªèŠ±â„ï¸åŠ¨ç”»ï¼ˆå›¾å½¢å­¦ï¼‰ç”µå½±åŠ¨ç”»æ¸²æŸ“ $\rightarrow$  æ¸²æŸ“æ—¶é—´ä¹… ç”±é«˜æ€§èƒ½å®Œæˆç²¾ç»†çš„åœºæ™¯æ¸²æŸ“
ã€€ã€€
> å¤§æ•°æ®æ˜¯äº‘è®¡ç®—çš„motivation
éšç§

# å¤§æ•°æ®ï¼Ÿ

å¤§æ•°æ®çš„ç‰¹å¾ï¼š

- ä»·å€¼å¯†åº¦ä½Žï¼ˆéœ€è¦æŒ–æŽ˜æ•°æ®ï¼Œæ•°æ®æ¸…æ´—ï¼šé‡å¤ã€æ— ç”¨ã€å™ªå£°æ•°æ®ã€ç¼ºå¤±å€¼å¤„ç†ï¼‰
- æ•°æ®é‡å¤§ï¼ˆvolumeï¼‰ 
ã€€ã€€- æ¯å¤©äº§ç”Ÿå¤§é‡æ•°æ®ï¼ŒPBçº§åˆ«
- äº§ç”Ÿé€Ÿåº¦å¿«ï¼Œæ•°æ®å¤„ç†éœ€è¦é«˜æ•ˆçŽ‡
ã€€ã€€- `streaming processing` 
ã€€ã€€- ä¸¢åŒ…ï¼šå¦‚æžœå¤„ç†é€ŸçŽ‡ä¸å¤Ÿå¿«ï¼Œä¼šä¸¢åŒ…
ã€€ã€€- zoom å¤šæ–¹ä¼šè®®ï¼Œå¸¦å®½å—é™ï¼Œæ•°æ®ä¼ è¾“è°ƒåº¦ï¼Ÿ$\rightarrow$ ç”¨æˆ·ä½“éªŒâ†‘
- å¤šæ ·æ€§ variety
ã€€ã€€- ç»“æž„æ€§/éžç»“æž„æ€§/åŠç»“æž„æ€§æ•°æ®ï¼Œè¯­éŸ³
ã€€ã€€- æœç´¢å–œé©¬æ‹‰é›…ï¼šåªèƒ½æœç´¢`metadata` ï¼ˆæ–‡ä»¶å/å°è¯´å/å±žæ€§ï¼‰ï¼Œæ— æ³•æ ¹æ®å†…å®¹è®²æŸä¸ªç»†èŠ‚æœç´¢$\rightarrow$ éžç»“æž„åŒ–æ•°æ®ç´¢å¼•
ã€€ã€€- å¤æ‚æ€§ åˆ†æžå’Œå¤„ç†çš„éš¾åº¦å¤§
ã€€ã€€

$$G=f(x), fäº‘è®¡ç®—, xå¤§æ•°æ®$$

å„ç§äº‘æœåŠ¡ï¼šè¯·æ±‚ä½¿ç”¨ä¸“æœ‰æœåŠ¡å™¨ç­‰ç­‰

äº‘ï¼šä¸å¯¹ç”¨æˆ·æœ‰è¦æ±‚ï¼Œæ•°æ®å¯é ä¸ä¼šè¢«æ³„éœ²ï¼Œ

ä¸‰å¤‡ä»½ï¼Œä»æ—§å¯èƒ½ä¼šä¸¢å¤±

salesforceï¼ŒVMwareè™šæ‹ŸåŒ–æŠ€æœ¯ï¼ŒMapReduceæ¨¡åž‹

æœç´¢å¼•æ“Žï¼šè¾“å…¥keywordï¼Œçˆ¬è™«æœºå™¨äººðŸ¤–ï¼ˆcacheï¼‰ï¼Œ**åˆ†å¸ƒå¼**ç´¢å¼•æŸ¥è¯¢$\rightarrow$ æ±‡æ€»$\rightarrow$ **åˆ†å¸ƒå¼**æŽ’åº

åˆ†å¸ƒå¼åŒ–ï¼š
MapReduceæ¡†æž¶ map$\rightarrow$ shuffleï¼ˆäº¤æ¢ï¼‰$\rightarrow$ reduceï¼›å†™åˆ°memoryï¼šsparkï¼›æ•°æ®æ¢å¤ï¼Ÿ
S3 `Simple Storage Service`  
EC2 
>Amazon Elastic Compute Cloudï¼ˆAmazon EC2 äº‘æœåŠ¡å™¨ï¼‰æ˜¯ä¸€ç§ Web äº‘æœåŠ¡ï¼Œèƒ½åœ¨äº‘ä¸­æä¾›å®‰å…¨ä¸”å¯è°ƒæ•´å¤§å°çš„è®¡ç®—èƒ½åŠ›. è¯¥æœåŠ¡æ—¨åœ¨è®©å¼€å‘äººå‘˜èƒ½å¤Ÿæ›´è½»æ¾åœ°è¿›è¡Œ Web è§„æ¨¡çš„äº‘è®¡ç®—. Amazon EC2 äº‘æœåŠ¡å™¨çš„ Web äº‘æœåŠ¡æŽ¥å£éžå¸¸ç®€å•ï¼Œæ‚¨å¯ä»¥æœ€å°çš„é˜»åŠ›è½»æ¾èŽ·å–å®¹é‡ï¼Œéšä¹‹é…ç½®å®¹é‡. ä½¿ç”¨è¯¥æœåŠ¡ï¼Œæ‚¨å°†èƒ½å®Œå…¨æŽ§åˆ¶æ‚¨çš„è®¡ç®—èµ„æºï¼Œå¹¶èƒ½åœ¨äºšé©¬é€Šæˆç†Ÿä¸”è¡Œä¹‹æœ‰æ•ˆçš„è®¡ç®—çŽ¯å¢ƒä¸­è¿è¡Œ. 
Amazon EC2 äº‘æœåŠ¡å™¨æä¾›æœ€å¹¿æ³›ã€æœ€æ·±å…¥çš„è®¡ç®—å¹³å°ï¼Œå¯é€‰æ‹©å¤„ç†å™¨ã€å­˜å‚¨ã€è”ç½‘ã€æ“ä½œç³»ç»Ÿå’Œè´­ä¹°æ¨¡å¼. æˆ‘ä»¬æä¾›æœ€å¿«çš„äº‘å¤„ç†å™¨ï¼Œæ˜¯å”¯ä¸€çš„ 400 Gbps ä»¥å¤ªç½‘ç½‘ç»œäº‘. æˆ‘ä»¬æ‹¥æœ‰æœ€å¼ºå¤§çš„é’ˆå¯¹æœºå™¨å­¦ä¹ åŸ¹è®­å’Œå›¾å½¢å·¥ä½œè´Ÿè½½çš„ GPU äº‘æœåŠ¡å™¨å®žä¾‹ï¼Œä»¥åŠäº‘ä¸­æ¯æ¬¡æŽ¨ç†æˆæœ¬æœ€ä½Žçš„äº‘æœåŠ¡å™¨å®žä¾‹. ä¸Žä»»ä½•å…¶å®ƒäº‘ç›¸æ¯”ï¼ŒAWS å‡è¿è¡Œæ›´å¤šçš„ SAPã€HPCã€æœºå™¨å­¦ä¹ å’Œ Windows å·¥ä½œè´Ÿè½½. å•å‡»æ­¤å¤„äº†è§£ Amazon EC2 äº‘æœåŠ¡å™¨çš„æœ€æ–°åŠŸèƒ½. 

æœºå™¨ï¼Œä½¿ç”¨æ—¶é•¿ï¼ˆå°æ—¶$\rightarrow$ åˆ†é’Ÿ$\rightarrow$ ç§’ï¼‰ç­‰æ•°æ®æ¨¡åž‹å˜åŒ–

serverless æ— æœåŠ¡å™¨
> å¼€å‘è€…å†ä¹Ÿä¸ç”¨è¿‡å¤šè€ƒè™‘æœåŠ¡å™¨çš„é—®é¢˜ï¼Œè®¡ç®—èµ„æºä½œä¸ºæœåŠ¡è€Œä¸æ˜¯æœåŠ¡å™¨çš„æ¦‚å¿µå‡ºçŽ°. Serverlessæ˜¯ä¸€ç§æž„å»ºå’Œç®¡ç†åŸºäºŽå¾®æœåŠ¡æž¶æž„çš„å®Œæ•´æµç¨‹ï¼Œ

> AWS Lambda ã¯ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã§ã€ã‚µãƒ¼ãƒãƒ¼ã®ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚„ç®¡ç†ã€ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰å¯¾å¿œã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ã®ä½œæˆã€ã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆã®ç¶­æŒã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã®ç®¡ç†ã‚’è¡Œã‚ãšã«ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã¾ã™. Lambda ã‚’ä½¿ç”¨ã™ã‚Œã°ã€å®Ÿè³ªã©ã®ã‚ˆã†ãªã‚¿ã‚¤ãƒ—ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã§ã‚‚ç®¡ç†ã‚’å¿…è¦ã¨ã›ãšã«å®Ÿè¡Œã§ãã¾ã™. ã‚³ãƒ¼ãƒ‰ã‚’ ZIP ãƒ•ã‚¡ã‚¤ãƒ«ã¾ãŸã¯ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã ã‘ã§ã€Lambda ã¯ã‚ã‚‰ã‚†ã‚‹è¦æ¨¡ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã«å¯¾ã—ã¦ã€è‡ªå‹•çš„ã‹ã¤æ­£ç¢ºã«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å®Ÿè¡Œèƒ½åŠ›ã‚’å‰²ã‚Šå½“ã¦ã€å—ä¿¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„ã‚¤ãƒ™ãƒ³ãƒˆã«åŸºã¥ã„ã¦ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™. ã‚³ãƒ¼ãƒ‰ã¯ã€200 ç¨®é¡žã‚’è¶…ãˆã‚‹ AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ãŠã‚ˆã³ SaaS ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰è‡ªå‹•çš„ã«ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã‚ˆã†è¨­å®šã™ã‚‹ã“ã¨ã‚‚ã€ã‚¦ã‚§ãƒ–ã‚„ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ç›´æŽ¥å‘¼ã³å‡ºã™ã‚ˆã†è¨­å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™. Lambda é–¢æ•°ã‚’ãŠæ°—ã«å…¥ã‚Šã®è¨€èªž (Node.jsã€Pythonã€Goã€Java ãªã©) ã§è¨˜è¿°ã—ã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒ„ãƒ¼ãƒ«ã¨ AWS SAM ã‚„ Docker CLI ãªã©ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ„ãƒ¼ãƒ«ã®ä¸¡æ–¹ã‚’ä½¿ç”¨ã—ã¦ã€é–¢æ•°ã‚’ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¾ã™. 

> äº‘å‡½æ•°
ç®€å•æ˜“ç”¨
ç”¨æˆ·åªéœ€ç¼–å†™æœ€é‡è¦çš„â€œæ ¸å¿ƒä»£ç â€ï¼Œä¸å†éœ€è¦å…³å¿ƒå‘¨è¾¹ç»„ä»¶ï¼Œæžå¤§åœ°é™ä½Žäº†æœåŠ¡æž¶æž„æ­å»ºçš„å¤æ‚æ€§. æ— éœ€ä»»ä½•æ‰‹åŠ¨é…ç½®ï¼Œäº‘å‡½æ•°å³å¯æ ¹æ®è¯·æ±‚é‡è‡ªåŠ¨æ¨ªå‘æ‰©ç¼©. ä¸ç®¡æ‚¨çš„åº”ç”¨æ¯å¤©çš„è¯·æ±‚æ•°å¤„äºŽæ³¢å³°è¿˜æ˜¯æ³¢è°·ï¼Œäº‘å‡½æ•°å‡å¯è‡ªåŠ¨å®‰æŽ’åˆç†çš„è®¡ç®—èµ„æºæ»¡è¶³ä¸šåŠ¡éœ€æ±‚. 
é«˜æ•ˆ
äº‘å‡½æ•°ä¸è¦æ±‚ç‰¹å®šæ¡†æž¶ï¼Œå¼€å‘è€…å¯ä¸“æ³¨äºŽæ ¸å¿ƒä»£ç çš„å¼€å‘. å•ä¸ªæ¨¡å—çš„å¼€å‘æ— éœ€äº†è§£ä»£ç ç»†èŠ‚. æ‚¨å¯ä»¥ä½¿ç”¨äº‘å‡½æ•°ç¼–å†™ä¸€äº›ç›®çš„å•ä¸€ã€é€»è¾‘ç‹¬ç«‹çš„ä¸šåŠ¡æ¨¡å—. æ¯ä¸ªå‡½æ•°éƒ½æ˜¯å•ç‹¬è¿è¡Œã€å•ç‹¬éƒ¨ç½²ã€å•ç‹¬ä¼¸ç¼©çš„ï¼Œç”¨æˆ·ä¸Šä¼ ä»£ç åŽå³å¯è‡ªåŠ¨éƒ¨ç½²ï¼Œæå‡äº†ç‹¬ç«‹å¼€å‘å’Œè¿­ä»£çš„é€Ÿåº¦. 
ç¨³å®šå¯é 
å¦‚æžœæŸä¸ªå¯ç”¨åŒºå› ç¾å®³æˆ–ç”µåŠ›æ•…éšœç­‰å¯¼è‡´ç˜«ç—ªï¼Œäº‘å‡½æ•°ä¼šè‡ªåŠ¨åœ°é€‰æ‹©å…¶ä»–å¯ç”¨åŒºçš„åŸºç¡€è®¾æ–½æ¥è¿è¡Œï¼Œå…é™¤å•å¯ç”¨åŒºè¿è¡Œçš„æ•…éšœé£Žé™©. ç”±äº‹ä»¶è§¦å‘çš„å·¥ä½œè´Ÿè½½å¯ä»¥ä½¿ç”¨äº‘å‡½æ•°æ¥å®žçŽ°ï¼Œåˆ©ç”¨ä¸åŒäº‘æœåŠ¡æ»¡è¶³ä¸åŒçš„ä¸šåŠ¡åœºæ™¯å’Œä¸šåŠ¡éœ€æ±‚ï¼Œä½¿å¾—æ‚¨çš„æœåŠ¡æž¶æž„æ›´åŠ å¥å£®. 
ç®€åŒ–ç®¡ç†
ç”¨æˆ·ä¸å†éœ€è¦å¯¹ OS å…¥ä¾µã€ç™»å½•é£Žé™©ã€æ–‡ä»¶ç³»ç»Ÿå®‰å…¨ã€ç½‘ç»œå®‰å…¨å’Œç«¯å£ç›‘å¬åšå¤æ‚çš„é…ç½®å’Œç®¡ç†ï¼Œä¸€åˆ‡äº¤ç”±å¹³å°å¤„ç†ï¼Œå¹³å°é€šè¿‡å®šåˆ¶åŒ–çš„å®¹å™¨ä¿è¯æ¯ä¸ªç”¨æˆ·çš„éš”ç¦»æ€§. ç”¨æˆ·æ— éœ€å¤æ‚çš„é…ç½®æ–‡ä»¶å³å¯ä¸€é”®éƒ¨ç½²å’Œæµ‹è¯•äº‘å‡½æ•°. 
é™ä½Žå¼€é”€
äº‘å‡½æ•°åœ¨æœªæ‰§è¡Œæ—¶ä¸äº§ç”Ÿä»»ä½•è´¹ç”¨ï¼Œæ‰€ä»¥å¯¹ä¸€äº›æ— éœ€å¸¸é©»çš„ä¸šåŠ¡è¿›ç¨‹æ¥è¯´ï¼Œå¼€é”€å°†å¤§å¹…é™ä½Ž. äº‘å‡½æ•°æ‰§è¡Œæ—¶æŒ‰è¯·æ±‚æ•°å’Œè®¡ç®—èµ„æºçš„è¿è¡Œæ—¶é—´æ”¶è´¹ï¼Œä»·æ ¼ä¼˜åŠ¿æ˜Žæ˜¾ï¼Œå¯¹åˆåˆ›æœŸçš„å¼€å‘è€…ååˆ†å‹å¥½. 

å®¹å™¨ ï¼ˆè½»é‡çº§è™šæ‹Ÿæœºï¼‰ï¼Œæ²¡æœ‰OSå±‚$\rightarrow$ å±‚å¾ˆè–„ï¼Œå¯ä»¥å¿«é€Ÿéƒ¨ç½² iaas
docker 
Google cloudï¼ˆTensorFlowâ†data flowæœåŠ¡ï¼‰ï¼Œazureï¼ŒIBM cloud
â­åšç³»ç»Ÿçº§çš„å·¥ä½œéš¾ä»¥è¢«å–ä»£ï¼šå·¥ç¨‹å¸ˆ$\rightarrow$ æž¶æž„å¸ˆ*
ä¸­å±‚åŽ‹åŠ›å¤§

## äº‘ï¼šç½‘ç»œçš„å‘å±•

ç‰©è”ç½‘ IoT ä¸‡ç‰©äº’è”
ä¼ æ„Ÿå™¨æ•°æ®é‡$\rightarrow$ ç½‘ç»œä¼ è¾“å¸¦å®½æœ‰é™
ä¼ æ„Ÿå™¨ç”µé‡å° power consumption

è¾¹ç¼˜è®¡ç®—$\rightarrow$ å‡å°‘å¸¦å®½ï¼Œæ•°æ®é¢„å¤„ç†$\rightarrow$ å‡å°‘äº†è€—ç”µé‡

## HoloLens

arå¢žå¼ºçŽ°å®ž 
è™šæ‹Ÿåœ°å›¾å¯¼èˆª
ç»ˆç«¯è®¾å¤‡ï¼Œå®šä½ï¼Ÿï¼ˆå®¤å†…ï¼Œä¸‰ç»´å»ºæ¨¡ï¼Œæž„å»ºåœºæ™¯åœ°å›¾ï¼‰

## æä¾›ä¸åŒçš„å®šä½
amazom-ä¾¿å®œï¼Œæä¾›infrastructure
Google - platformï¼Œè‡ªå¸¦ç³»ç»Ÿ
azure -license è½¯ä»¶ï¼Œç¨‹åºæ‰˜ç®¡

é˜¿é‡Œäº‘ï¼ˆæ·˜å®æ‰€æå‡ºçš„éœ€æ±‚ï¼‰ è…¾è®¯äº‘ï¼ˆï¼‰ åŽä¸ºäº‘ï¼ˆæ”¿åºœäº‘ï¼Œäº‘æ¡Œé¢ï¼‰

gfs BigTable Google APP engine

Pï¼ˆplatformï¼‰aaSï¼Œ Sï¼ˆsoftwareï¼‰aaSï¼Œ iï¼ˆinfrastructureï¼‰aas

æŠ€æœ¯$\rightarrow$ äº§å“$\rightarrow$ *è½åœ°åº”ç”¨*
å¯¹äºŽç”¨æˆ·æ¥è¯´æœ€å°‘çš„ç®¡ç†ï¼Œæœ€å°‘åœ°ä¸Žä¾›åº”å•†äº’åŠ¨

## äº‘æœåŠ¡ç‰¹ç‚¹ã€€
ã€€æŒ‰éœ€è‡ªåŠ© æ— å¤„ä¸åœ¨ å¼¹æ€§
ã€€ã€€èµ„æºæ± ï¼ˆå…¬æœ‰äº‘ï¼‰æœåŠ¡å¯åº¦é‡ï¼ˆä»¥åˆ†é’Ÿ/GB/...è®¡ç®—ï¼‰
ã€€ã€€
## æœåŠ¡æ¨¡å¼

iaas PaaS SaaS

iaas å°†ç¡¬ä»¶è®¾å¤‡ç­‰åŸºç¡€è®¾æ–½å°è£…æˆæœåŠ¡ï¼Œéœ€æ‰‹åŠ¨è®¾ç½®ç®¡ç†æœºå™¨é€šä¿¡ç­‰

kvmï¼Œcephï¼ˆæ–‡ä»¶ç®¡ç†ï¼ŒOpenStackï¼ˆç§æœ‰äº‘ï¼‰ç­‰

GitHub gitlab kubernates docker
PaaS æä¾›ç”¨æˆ·åº”ç”¨ç¨‹åº**è¿è¡ŒçŽ¯å¢ƒ**
SaaS è½¯ä»¶

Verizonï¼Œ cloudblue ï¼Œcloud scripting
SaaS ç›´æŽ¥æä¾›è½¯ä»¶

## éƒ¨ç½²æ¨¡å¼

å…¬æœ‰äº‘ ç§æœ‰äº‘ æ··åˆäº‘ ç¤¾åŒºäº‘

| ç§ç±» | ç¼ºç‚¹ | ä¼˜ç‚¹ |
|:----:|:----:|:----:|
|   å…¬æœ‰äº‘   |   å¯¹å¤–éƒ¨ç”¨æˆ·ï¼Œå®‰å…¨æ€§è¾ƒä½Žï¼ŒåŠŸèƒ½æ‹“å±•è¾ƒä½Žï¼Œæ•°æ®é£Žé™©è¾ƒé«˜   |  å¼¹æ€§æ‰©å®¹å¼º    |
|  ç§æœ‰äº‘    |   ï¼ˆä¸Žå…¬æœ‰äº‘ç›¸åï¼‰   |   æ‰©å®¹æ€§å·®ï¼ˆç§æœ‰äº‘å¤šç”¨æˆ·ä¹‹é—´æœåŠ¡éš”ç¦»æ€§ä¼šå·®ä¸€äº›$\rightarrow$ äº‘æ€§èƒ½ä¸ç¨³å®šæ€§ï¼Œç”¨æˆ·å¤šæ—¶å…±äº«æ€§èƒ½ä¼šå·®ï¼‰   |
|   æ··åˆäº‘ï¼ˆç”¨æˆ·å°‘æ—¶ç§æœ‰äº‘ï¼Œå…¶ä»–å…¬æœ‰äº‘ï¼‰   |    ç®¡ç†æˆæœ¬å¾ˆé«˜ï¼Œä»»åŠ¡è¿ç§»ã€æ•°æ®ç§»åŠ¨ä»¥åŠç”¨æˆ·ä½“éªŒç¨³å®šé—®é¢˜  |      |

## å½±å“

ä¸­åž‹å…¬å¸è‡ªå»ºæ•°æ®ä¸­å¿ƒï¼Œç®¡ç†è´¹ç”¨å¤ªé«˜
ï¸ä¸Šæˆæœ¬é™ä½Žï¼Œæ•°æ®ä¸¢å¤±é£Žé™©ä¸‹é™
é‡è´©å¼KTV è¶…å¸‚ é‡å¤šå•ä»·ä¸‹é™

ç”µè´¹ ä¸åŒåœ°åŒºç”µè´¹å·®å¼‚ï¼Œåœ°éœ‡ï¸ï¼Œä¸»è¦ç”¨äºŽå†·å´è´¹ç”¨
é«˜å³°ç”µè´¹ï¼Œä½Žå³°ç”µè´¹ï¼Œå…¨çƒè°ƒåº¦

äº‘å—è´µå·žå†…è’™å¤

## äº‘æœåŠ¡å•†å¤§æ•°æ®ä¸­å¿ƒ

åŽä¸ºï¼Œé˜¿é‡Œï¼ˆç¬¬ä¸€æ¢¯é˜Ÿï¼‰

ç™¾åº¦ï¼ŒçŸ­è§†é¢‘  å®žæ—¶æŽ¨èç³»ç»Ÿï¼šå¿«æ‰‹/æŠ–éŸ³ï¼Œå­—èŠ‚è·³åŠ¨

Oregonå·žå…ç¨Ž 1.8GW
>  æˆ‘ä»¬çš„å†·å´å¡”
>  ä¿„å‹’å†ˆå·žè¾¾å°”æ–¯æ•°æ®ä¸­å¿ƒå†·å´å¡”é¡¶ç«¯å‡è…¾çš„è’¸æ±½. ç¼•ç¼•è’¸æ±½å½¢æˆè–„é›¾ï¼Œå®‰é™åœ°æ¼‚æµ®åœ¨é»„æ˜ä¹‹ä¸­. 

## äº‘çš„å¥½å¤„

äº‘ä½¿å¾—ä½¿ç”¨è®¡ç®—æœåŠ¡ä»·æ ¼ä¸‹é™ï¼Œèµ„æºåˆ©ç”¨çŽ‡ä¸Šå‡ï¼ŒèŠ‚çº¦æˆæœ¬

# Amazonå¼€å¯è™šæ‹Ÿæœº

é€‰æ‹©amiï¼ˆguest OS imageï¼‰ï¼šæ”¯æŒçš„virtualization type (paravirtual åŠè™šæ‹ŸåŒ–$\rightarrow$ æ€§èƒ½ä¸ä¸€è‡´)

Windowsä¸æ”¯æŒHVM

> HVM (known as Hardware Virtual Machine) is the type of instance that mimics bare-metal server setup which provides better hardware isolation. With this instance type, the OS can run directly on top of the Virtual Machine without additional configuration making it to look like it is running on a real physical server. For more information about this instance type and the other one that is most commonly used, you may refer to the resource link below.

baseé•œåƒ
full container
SQLâ€¦â€¦

ç ”ç©¶æ–¹å‘ï¼šäº‘è®¡ç®—è™šæ‹ŸåŒ–ï¼Œå¦‚live migrationï¼ˆå®žæ—¶è™šæ‹Ÿæœºè¿ç§»ï¼šæ— æ„Ÿè¿ç§»ï¼Ÿï¼‰

# æœåŠ¡å™¨è™šæ‹ŸåŒ–ï¼ˆæœåŠ¡å™¨ç¡¬ä»¶èµ„æºçš„è™šæ‹ŸåŒ–ï¼‰

## CPUè™šæ‹ŸåŒ–

ä¸€ä¸ªcore$\rightarrow$ ä¸€ä¸ªè™šæ‹Ÿæœº

if å•æ ¸ï¼Ÿ
åº”è¯¥ä¹Ÿæ˜¯æ”¯æŒ
ä¸€ä¸ªè™šæ‹Ÿæœºï¼šå¯ä»¥è§†ä¸ºä¸€ä¸ªapplicationï¼Œæ¨¡æ‹Ÿå¤šCPUå¹¶å‘è¿è¡Œ$\rightarrow$ å…è®¸ä¸€ä¸ªå¹³å°åŒæ—¶è¿è¡Œå¤šä¸ªè™šæ‹Ÿæœºæ“ä½œç³»ç»Ÿ


`concurrent å¹¶è¡Œ` ï¼šåŒæ—¶è¿›è¡Œ
`ï¼ˆåˆ†æ—¶ï¼‰å¹¶å‘` 2ä¸ªä»»åŠ¡åŒæ—¶å‘ç”Ÿï¼Œçœ‹ä¼¼åŒæ—¶è¿è¡Œï¼Œä½†æœªå¿…åŒæ—¶è¿›è¡Œ

å›¾ï¼šè™šæ‹Ÿæœºè°ƒåº¦

virtual CPUs ï¼ˆä¸Žç¡¬ä»¶æ— å…³ï¼‰
monitor
core ï¼ˆlocigal CPUï¼Œé€»è¾‘å¤„ç†å™¨ï¼‰

è¶…çº¿ç¨‹ï¼šä¸€ä¸ªæ ¸å˜2ä¸ªæ ¸ï¼ˆæŸäº›ç¡¬ä»¶å­˜åœ¨2ä»½ï¼Œå¦‚registersï¼ŒåŠ å¿«è¿ç®—å•å…ƒè¿ç®—ï¼Œä¸€ä¸ªçº¿ç¨‹blockæ—¶æ‰§è¡Œå¦ä¸€çº¿ç¨‹ï¼‰

### è™šæ‹ŸCPUæ€§èƒ½å–å†³äºŽ2çº§è°ƒåº¦çš„æ•ˆçŽ‡
guest application$\rightarrow$ è™šæ‹ŸCPUè°ƒåº¦
è™šæ‹ŸCPUå‘å‡ºæŒ‡ä»¤$\rightarrow$ vmmè°ƒåº¦$\rightarrow$ ç‰©ç†æ ¸
ç‰©ç†æ ¸ï¼šä»»åŠ¡é˜Ÿåˆ—

### *è°ƒåº¦*ï¼šä¸åŒä»»åŠ¡ä¹‹é—´ã€ä¸åŒio/ç½‘ç»œç­‰

MapReduce$\rightarrow$ Hadoop /ï¼Œspark *sparkçš„è°ƒåº¦*

### CPUå…¨è™šæ‹ŸåŒ–

ringï¼šç‰¹æƒç­‰çº§

ring 0 monitor
ring 1 guest OS
ring 3 application


`ring compression` ï¼Œ`äºŒè¿›åˆ¶ä»£ç ç¿»è¯‘` ï¼ˆå‡å¦‚æŒ‡ä»¤ä¸æ”¯æŒè™šæ‹ŸåŒ–æ—¶ï¼‰

guest OSä¸‹å‘æŒ‡ä»¤$\rightarrow$ monitoræ•æ‰ã€æ¨¡æ‹Ÿã€è½¬æ¢

æ­¤ç­‰çº§æœºåˆ¶é¿å…ç›´æŽ¥ä¸‹è¾¾å‘½ä»¤åˆ°CPU

### CPUåŠè™šæ‹ŸåŒ–

ä¿®æ”¹è¿‡guest OSæ”¯æŒhypercallç›´æŽ¥è°ƒç”¨CPUæŒ‡ä»¤

### CPUç¡¬ä»¶è¾…åŠ©ï¼ˆå…¨ï¼‰è™šæ‹ŸåŒ–

Intel VT-Xï¼Œ

åŒºåˆ†rootæ¨¡å¼
monitorè¿è¡Œåœ¨rootæ¨¡å¼è¿è¡Œï¼Œè™šæ‹Ÿæœºæ”¯æŒéžrootçš„ring0ï¼Œç¡¬ä»¶åŒºåˆ†æ¥è‡ªguest OSæŒ‡ä»¤å’Œhost OSæŒ‡ä»¤ï¼Œæ ¸å¿ƒæŒ‡ä»¤å¯ä»¥ç›´æŽ¥å‘é€ç»™CPUè€Œæ— éœ€vmmæ•æ‰

## å†…å­˜è™šæ‹ŸåŒ–

çœŸå®žç‰©ç†å†…å­˜$\rightarrow$ å…¶ä»–å­˜å‚¨ï¼Œï¸è¶…è¿‡ç‰©ç†å†…å­˜æ—¶performanceä¸‹é™

$\rightarrow$ è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œåˆ†é…è™šæ‹Ÿåœ°å€

$è™šæ‹Ÿåœ°å€â†”^{translation}å®žé™…åœ°å€$

æ¯ä¸ªè¿›ç¨‹çœ‹åˆ°ç‹¬ç«‹çš„åœ°å€å†…å­˜ç©ºé—´
å‡å¦‚è¶…è¿‡å†…å­˜ç©ºé—´ï¼Œéœ€ç­‰å¾…å…¶ä»–ç¨‹åºé‡Šæ”¾

è™šæ‹Ÿåœ°å€â†”real memory addressï¼ˆè™šæ‹Ÿæœºæ‰€çœ‹åˆ°çš„è™šæ‹Ÿåœ°å€ï¼‰â†”physicalï¼ˆç‰©ç†æœºçœ‹åˆ°çš„è™šæ‹Ÿåœ°å€ï¼‰

ä½¿ç”¨page tableè¿›è¡Œç¿»è¯‘

äº§ç”Ÿï¼šæºäºŽvmmä¸Žguest OSæ‰€çœ‹åˆ°çš„å†…å­˜ç©ºé—´ä¸ä¸€è‡´

### å…¨è™šæ‹ŸåŒ–

 page tableï¼šè™šæ‹Ÿåœ°å€$\rightarrow$ ç‰©ç†åœ°å€ï¼›æœ‰ç›¸å…³æŠ€æœ¯åŠ é€Ÿæ£€ç´¢

shadow é¡µè¡¨ï¼ˆå®¢æˆ·æœºé¡µè¡¨ï¼‰ï¼šç»´æŠ¤è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€$\rightarrow$ guest osåœ°å€ï¼ˆguest physical addressï¼Œå¦‚è™šæ‹Ÿæœºç”³è¯·çš„ï¼‰
p2mé¡µè¡¨/å“ˆå¸Œå‡½æ•° GPAåœ°å€$\rightarrow$ æœºå™¨åœ°å€â€¦â€¦å¡«å……åˆ°åœ¨ç¡¬ä»¶ä¸Šèµ·ä½œç”¨çš„å½±å­é¡µè¡¨

### åŠè™šæ‹ŸåŒ–

guest osç›´æŽ¥å‘vmmæ³¨å†Œ

vmmè·¨å±‚ç»´æŠ¤é¡µè¡¨ virtual addressç›´æŽ¥ç¿»è¯‘æˆphysical address

### å†…å­˜ç¡¬ä»¶è¾…åŠ©è™šæ‹ŸåŒ–

ept æ‹“å±•é¡µè¡¨ vmmå°†eptè®¾ç½®åˆ°CPUä¸­ï¼ŒåŠ é€ŸGPA$\rightarrow$ maè¿‡ç¨‹ï¼Œå†åŠ é€Ÿva$\rightarrow$ maè¿‡ç¨‹

## å¸¸è§çš„è™šæ‹ŸåŒ–äº§å“

Hyperv
docker
xen
kvm
VMware

# å®¹å™¨ï¼Œdockerï¼Œkubernates

**è½»é‡çº§**çš„å®¹å™¨ï¼Œå¯ä»¥åªå«æœ‰ä¸€ä¸ªAPPåŠå…¶ä¾èµ–

â­ç®¡ç†å®¹å™¨ï¼Ÿk8sï¼šç®¡ç†+è°ƒåº¦

`é•œåƒ` å¯æ‰§è¡Œçš„è½¯ä»¶åŒ…
`å®¹å™¨` å°†åº”ç”¨æ‰“åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„**è½»é‡çº§**é•œåƒ

base imageåŒ…å«OSç­‰ï¼ŒAPP imageåœ¨base imageä¹‹ä¸Š

$\rightarrow$ serverlessä¾èµ–äºŽè½»é‡çº§å®¹å™¨æŠ€æœ¯ï¼Œæ‰§è¡Œæ¯«ç§’çº§é«˜æ€§èƒ½è¦æ±‚ä»»åŠ¡ï¼Œé‡é‡çº§å®¹å™¨å¯åŠ¨æ…¢ï¼Œè½»é‡çº§åªåŒ…å«minimal setï¼Œdeployå¿«

dockeræ˜¯å®¹å™¨å¼•æ“Žçš„è§£å†³æ–¹æ¡ˆ å°è£…Cgroupã€namespaceç­‰ï¼Œæä¾›äº†æŽ¥å£å’Œapiï¼Œæ”¯æŒç”Ÿæˆã€å‘å¸ƒã€éƒ¨ç½²ç­‰

å°†ç¨‹åºå’ŒdependencyåŒ…å«åœ¨ä¸€ä¸ªimageä¸­ï¼Œä½¿å¾—å¯¹äºŽå…¨å±€é…ç½®çš„ä¾èµ–è§£è€¦ï¼ˆåº”ç”¨å’Œè¿è¡ŒçŽ¯å¢ƒæ‰“åŒ…ï¼‰

dockerï¼š

ç§’çº§çš„äº¤ä»˜å’Œéƒ¨ç½²ï¼Œ
eg æœç´¢æœåŠ¡
ä¸å®šæ—¶çš„æœåŠ¡éœ€æ±‚ï¼Œéœ€è¦å°½å¿«è¿”å›žç»“æžœ$\rightarrow$ å°½å¿«éƒ¨ç½²

é›†ç¾¤ï¼šåŸºç¡€è¿è¡Œæ”¶è´¹ï¼ˆï¼šåªæœ‰è¿è¡Œæ—¶æ‰èƒ½autoscaleï¼‰+ç”¨æˆ·requestå¤šæ”¶è´¹$\rightarrow$ é€‚ç”¨äºŽä¸­å°ä¼ä¸š
10tasksï¼šæŸ¥è¯¢çš„æ•°æ®åº“ã€ä»£ç ç­‰éœ€å…ˆå­˜å…¥ï¸ä¸­
å½“æœ‰æ–°è¯·æ±‚æ—¶ï¼Œï¸è‡ªåŠ¨éƒ¨ç½²æ–°å®¹å™¨

ç”±k8sç®¡ç†ï¼Œæ•ˆçŽ‡é«˜

æœ‰å¼¹æ€§

live migrationæˆæœ¬ä½Ž

### dockerç»“æžœ

client
server
docker host
daemon
base imageâ†image registryé€‰æ‹©åŸºç¡€ç»„ä»¶
my containers


client/serveræž¶æž„ deamonï¼ˆserverï¼‰æŽ¥å—è¯·æ±‚ï¼Œåˆ›å»ºã€åˆ†å‘å®¹å™¨
éƒ¨ç½²åˆ°serverä¸Š

åŠ¨æ€è¿ç§»

# è™šæ‹Ÿæœºï¼Œè™šæ‹ŸåŒ–æŠ€æœ¯

virtual box
VMware

å°è£…è¿‡çš„è½¯ä»¶

| HEADER | HEADER | HEADER |
|:----:|:----:|:----:|
|   è™šæ‹Ÿæœº   |   å°†ä¸€å°ç‰©ç†è®¡ç®—æœºè™šæ‹ŸåŒ–ä¸ºå¤šä¸ªé€»è¾‘è®¡ç®—æœºï¼Œä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œåº”ç”¨ç¨‹åºåœ¨ç›¸äº’ç‹¬ç«‹ç©ºé—´ä¸­è¿è¡Œ   |      |
|      |      |      |
|      |      |      |

å±‚çº§ç»“æž„ï¼šé€šè¿‡æ¯å±‚ä¹‹é—´æŽ¥å£å®žçŽ°è®¡ç®—æœºç³»ç»Ÿ
åº”ç”¨ç¨‹åº
æ“ä½œç³»ç»Ÿï¼ˆç®¡ç†è°ƒåº¦åº•å±‚ç¡¬ä»¶ï¼‰
ç¡¬ä»¶ x86


ï¼ˆè™šæ‹Ÿæœºç³»ç»Ÿï¼Œä¸Žå®žä½“æœºçš„ç»“æž„ç±»ä¼¼ï¼Œè™šæ‹ŸåŒ–å‡ºä¸€äº›ç¡¬ä»¶ï¼‰
å‡å¦‚ä¸€ä¸ªæ ¸åˆ†ç»™2ä¸ªè™šæ‹Ÿæœºï¼Œåˆ™å¹³å°ï¼ŒOSéœ€è¦åˆ†æ—¶åˆ‡æ¢
è™šæ‹ŸåŒ–å¹³å° virtualization layer
â€”â€”
ï¼ˆæ“ä½œç³»ç»Ÿï¼‰
ç¡¬ä»¶

ï¸ç½‘ç»œçš„è™šæ‹ŸåŒ–éš”ç¦»éš¾ä»¥å®žçŽ°ï¼Œå› æ­¤è™šæ‹ŸåŒ–æœºç½‘ç»œæ€§èƒ½ä¸ç¨³å®š
è™šæ‹Ÿæœºçš„ç½‘ç»œè½¬å‘åˆ°ç‰©ç†æœºçš„ç½‘ç»œä¸­

Application
Guest os
Virtual machine
Hypervisor (virtual machine monitor)
Host os
host machine(hardware)

ç‰¹ç‚¹ï¼šåˆ†åŒºï¼ˆé€»è¾‘ä¸Šçš„åˆ†åŒºï¼‰ éš”ç¦»ï¼ˆåŒä¸€ä¸»æœºä¸Šçš„è™šæ‹Ÿæœºä¹‹é—´ç›¸äº’éš”ç¦»ï¼‰ å°è£…ï¼ˆæ•´ä¸ªç³»ç»Ÿä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼‰

è™šæ‹Ÿæœºä¸Šè¯»å–æ•°æ®ï¼Ÿ ç¡¬ä»¶ç£ç›˜æŒ‚è½½åœ¨ç¡¬ä»¶ä¸Š guest OSè½¬æ¢è¯·æ±‚åˆ°hypervisor$\rightarrow$ OS$\rightarrow$ ç¡¬ä»¶ ä»¥éš”ç¦»ä¸åŒè™šæ‹Ÿæœºï¼Œoverheadå¤§

## åˆ’åˆ†

è½¯ä»¶è¾…åŠ©çš„è™šæ‹ŸåŒ–æŠ€æœ¯ ï¼ˆè½¯ä»¶äº§ç”Ÿå¼‚å¸¸$\rightarrow$ å®¿ä¸»æœºé™·å…¥å¼‚å¸¸$\rightarrow$ è§¦å‘è™šæ‹ŸåŒ–ï¼‰hyperv

> Hyper-V specifically provides hardware virtualization. That means each virtual machine runs on virtual hardware. Hyper-V lets you create virtual hard drives, virtual switches, and a number of other virtual devices all of which can be added to virtual machines

ç¡¬ä»¶è¾…åŠ©çš„è™šæ‹ŸåŒ–æŠ€æœ¯ ç¡¬ä»¶æ”¯æŒçš„ç›´æŽ¥è™šæ‹ŸåŒ– AMD-V

å…¨è™šæ‹ŸåŒ– å®Œå…¨éš”ç¦»ï¼Œç”±hypervisorå±‚è½¬æ¢ VMware workstationï¼šé€Ÿåº¦å‡æ…¢ï¼Œæ€§èƒ½ç“¶é¢ˆï¼Œéš”ç¦»æ›´å¥½
åŠè™šæ‹ŸåŒ– åœ¨è™šæ‹ŸæœºOSåŠ å…¥ç‰¹æ®Šè™šæ‹ŸåŒ–æŒ‡ä»¤  hypervisorå¯ä»¥ç›´æŽ¥è°ƒç”¨ç¡¬ä»¶èµ„æº

> Unified Management for Containers and VMs
Manage complex, modern apps as easily as traditional apps and VMs on modern vSphere infrastructure that supports container-based application development. Rearchitected with native Kubernetes, you can now modernize the 70+ million workloads running on vSphere. And now, you can run modern, containerized applications alongside existing enterprise applications on existing infrastructure with vSphere with Tanzu

åŸºäºŽæ“ä½œç³»ç»Ÿçš„è™šæ‹ŸåŒ–ï¼š2å±‚OSï¼Œæ˜“äºŽå®žçŽ°ï¼Œå¼€é”€è¾ƒå¤§ï¼Œéœ€è¦ç®¡ç†å±‚OSå±‚è½¬æ¢è¯·æ±‚ VMware
åŸºäºŽç¡¬ä»¶çš„è™šæ‹ŸåŒ–ï¼šçœç•¥OSå±‚ å¦‚xenï¼Œä¾èµ–è™šæ‹ŸåŒ–å±‚è¿›è¡Œç®¡ç†ï¼Œä¸ä¾èµ–äºŽä¸»æœºOSï¼Œå¯ç›´æŽ¥è°ƒç”¨ç¡¬ä»¶ ç¼ºç‚¹ï¼šä¾èµ–äºŽè™šæ‹ŸåŒ–å±‚ï¼Œéœ€è¦å¯¹è™šæ‹ŸåŒ–å±‚è¿›è¡Œå¼€å‘ï¼Œ VMware ESXi, â­XEN

> VMware ESXi: The Purpose-Built Bare Metal Hypervisor
Discover a robust, bare-metal hypervisor that installs directly onto your physical server. With direct access to and control of underlying resources, VMware ESXi effectively partitions hardware to consolidate applications and cut costs. It's the industry leader for efficient architecture, setting the standard for reliability, performance, and support

> the xen project is focused on advancing virtualization in a number of different commercial and open source applications, including server virtualization, infrastructure as a services (iaas), desktop virtualization, security applications, embedded and hardware appliances, and automotive/aviation

æœåŠ¡å™¨è™šæ‹ŸåŒ–ï¼šä¸€å°æœåŠ¡å™¨$\rightarrow$ å¤šå°æœåŠ¡å™¨
å­˜å‚¨ï¼š
ã€€ã€€å¯¹èµ„æºæ± çš„å·¨å¤§æ–‡ä»¶ç³»ç»Ÿç®¡ç† 
ã€€ã€€å­˜å‚¨èµ„æºç»Ÿä¸€æ•´åˆç®¡ç†ï¼šç›®å½•æ ‘ðŸŒ²ç®¡ç†
ã€€ã€€ðŸ”€åº•å±‚å®žçŽ°é«˜æ•ˆç»„ç»‡ï¼Œä¿æŒéš”ç¦»ï¼Œ
å¤šâ€â€â€è¯»å†™åŒä¸€å°æœºå™¨æ€§èƒ½ç“¶é¢ˆï¼ˆç”¨æˆ·è¡Œä¸ºç‰¹å¾ï¼šç»å¸¸è¯»çš„ç”¨æˆ·ï¼Œç»å¸¸å†™çš„ç”¨æˆ·ï¼Œè°ƒåº¦ï¼‰

åº”ç”¨ç¨‹åºè™šæ‹ŸåŒ–ï¼šåº”ç”¨ç¨‹åºå’Œç¡¬ä»¶è§£è€¦
å¹³å°è™šæ‹ŸåŒ–ï¼šæ¶ˆæ¯å¹³å°ï¼Œç›‘æŽ§å¹³å°
æ¡Œé¢è™šæ‹ŸåŒ–ï¼šæ¡Œé¢å’Œterminalè§£è€¦

è¯·æ±‚ðŸ”€ç®¡ç†å±‚ðŸ”€å¤šå°æœºå™¨

# è™šæ‹ŸåŒ–æŠ€æœ¯

## å®Œå…¨è™šæ‹ŸåŒ–

host OSä¹‹ä¸Šæœ‰guest OSï¼Œé€šç”¨æ€§æ›´å¥½

kvm

> KVM (for Kernel-based Virtual Machine) is a full virtualization solution for Linux on x86 hardware containing virtualization extensions (Intel VT or AMD-V). It consists of a loadable kernel module, kvm.ko, that provides the core virtualization infrastructure and a processor specific module, kvm-intel.ko or kvm-amd.ko

ä½¿å¾—OSæ— éœ€ä¿®æ”¹å¯ä»¥å®‰è£…åˆ°ç³»ç»Ÿä¸­ï¼Œå¯èƒ½ä¸çŸ¥é“æ­£å¤„äºŽè™šæ‹ŸåŒ–çŽ¯å¢ƒä¸­ï¼Œä½†æ˜¯ç¼ºç‚¹ å¤„ç†å™¨å¯†é›†åž‹

## å‡†è™šæ‹ŸåŒ–

ä½¿å¾—OSå’Œè™šæ‹ŸåŒ–å±‚ååŒå·¥ä½œï¼Œå‡è½»2å±‚OSçš„è´Ÿæ‹…ï¼Œä½†æ˜¯éœ€å¯¹OSè¿›è¡Œæ”¹åŠ¨ï¼ŒOSçŸ¥é“æ­£å¤„äºŽè™šæ‹ŸåŒ–çŽ¯å¢ƒä¸­ï¼Œå¼€é”€å‡å°

xenï¼ˆä¹Ÿé€æ¸æ”¯æŒå…¨è™šæ‹ŸåŒ–ï¼Œä»¥æå‡é€šç”¨æ€§ï¼‰

The Xen Project community develops an open-source type-1 or bare-metal hypervisor, which makes it possible to run many instances of an operating system or indeed different operating systems in parallel on a single machine (or host). The project develops the only type-1 hypervisor that is available as open source. The hypervisor is used as the basis for a number of different commercial and open source applications, such as server virtualization, Infrastructure as a Service (IaaS), desktop virtualization, security applications, embedded and hardware appliances, and automotive. It enables users to increase server utilization, consolidate server farms, reduce complexity, and decrease total cost of ownership.

ä½¿ç”¨Linuxå¼€æºç³»ç»Ÿï¼Œä¿®æ”¹ç³»ç»Ÿä»¥æ”¯æŒå†…æ ¸
æ€§èƒ½é«˜

CPUè™šæ‹ŸåŒ–
å†…å­˜è™šæ‹ŸåŒ–
ioè™šæ‹ŸåŒ–

# å®¹å™¨æŠ€æœ¯

å®¹å™¨çš„å¨èƒæ¨¡åž‹ï¼ˆå¤–éƒ¨å®¹å™¨çš„æ”»å‡»ï¼‰$\rightarrow$ äº‘çš„å®‰å…¨æ€§ç ”ç©¶


# MapReduce

æ˜¯ä¸€ä¸ªå¹¶è¡Œç¼–ç¨‹æ¨¡åž‹

ç”±mapper reducerè¿‡ç¨‹

`Hadoop` ï¼šç³»ç»Ÿå®žçŽ°ï¼›è‡ªåŠ¨å®žçŽ°map/reduceè¿‡ç¨‹

~ç±»æ¯” runtime visual studio 
ç‚¹å‡»ï¸è‡ªåŠ¨å®Œæˆç¼–è¯‘ã€æ‰§è¡Œçš„æ­¥éª¤ï¼ŒHadoopç®€åŒ–åº•å±‚æ“ä½œ

èµ„æºç®¡ç†ï¼ˆä¸åŒçš„ä¼˜åŒ–ç›®æ ‡è¿›è¡Œæœ€å¥½çš„è°ƒåº¦ï¼‰

## åˆ†å¸ƒå¼å¹¶è¡Œç¼–ç¨‹

èƒŒæ™¯1ï¼šâ€œæ‘©å°”å®šå¾‹â€ï¼ŒCPUæ€§èƒ½ä¸æ–­å‘å±•ï¼šå•æ ¸ã€å•æ ¸å¤šæ ¸å¿ƒã€

`è½¯ç¡¬ååŒ` ï¼šè½¯ä»¶ç¡¬ä»¶ä¸æ–­å‘å±•ï¼Œç¡¬ä»¶å‘å±•$\rightarrow$ éœ€è¦æœ‰ç›¸åº”è½¯ä»¶å……åˆ†åˆ©ç”¨è®¡ç®—èµ„æº
ï¼›TensorFlow å•ç²¾åº¦æµ®ç‚¹è®¡ç®—ï¼ˆå¯¹ç²¾åº¦è¦æ±‚ä¸é«˜ï¼‰$\rightarrow$ ä¸“é—¨è®¾è®¡AIèŠ¯ç‰‡ï¼Œä¸“é—¨åŠ é€Ÿå•ç²¾åº¦æµ®ç‚¹æ•°

double/floatè®¡ç®—æ•ˆçŽ‡ä¸åŒï¼Œdoubleé€Ÿåº¦å¯èƒ½å˜æ…¢

èƒŒæ™¯2ï¼šåˆ†å¸ƒå¼ç¨‹åºè¿è¡Œåœ¨å¤§è§„æ¨¡è®¡ç®—æœºé›†ç¾¤clusterä¸Šï¼Œé€šè¿‡ç½‘ç»œè¿è¡Œ

### ç½‘ç»œ 

1 2 3 4å¹¶è¡Œ ï¼ˆflatï¼‰1$\rightarrow$ 2 localè·¯ç”±å¾ˆå¿«

1 2 ï¼ˆä¸Šä¸€çº§ç½‘å…³1ï¼‰3 4 ï¼ˆä¸Šä¸€çº§ç½‘å…³2ï¼‰â€¦â€¦ ï¼ˆfat-treeï¼šè·¯ç”±å±‚æ¬¡å°‘ï¼Œå‡å°‘å‡ºå±€åŸŸç½‘æ—¶æŸè€—ï¼‰

1$\rightarrow$ 3ä¼šå˜æ…¢ï¼Œé€šè¿‡å¾ˆå¤šè·¯ç”±å™¨

å½“flatä¸ŠæŒ‚è½½å¤ªå¤šæœºå™¨ï¼Œéœ€è¦çº§è”ï¼ˆå±‚æ¬¡åž‹ï¼‰

infinitebandï¼ˆè´µï¼‰ ä»¥å¤ªç½‘$\rightarrow$ ä¸‡å…†ä»¥å¤ªç½‘ï¼Œé€Ÿåº¦å¯ä»¥æŽ¥è¿‘infiniband

è€ƒè™‘è®¡ç®—ä»»åŠ¡åº”åˆ†é…åˆ°å“ªäº›æœºå™¨ï¼Œå¹³è¡¡è®¡ç®—èµ„æºï¼ˆå¦‚è®¡ç®—ä»»åŠ¡å¯¹äºŽæŸäº›éƒ¨ä»¶ç»å¸¸è¯»å†™ï¼‰

### è®¾è®¡é€šç”¨ç¼–ç¨‹æ¨¡åž‹çš„éœ€æ±‚

eg å¿«æŽ’

4gæ•°æ®å¿«æŽ’è®¾åˆ†é…åˆ°4å°æœºå™¨æŽ’åºæœ‰åº

å½’å¹¶ï¼Ÿ$\rightarrow$ ç®—æ³•è®¾è®¡ï¼Ÿè€ƒè™‘åˆ°ç½‘ç»œé€šä¿¡å®žçŽ°æ•°æ®åˆå¹¶ï¼ˆ`å¹¶è¡Œç¼–ç¨‹` ï¼‰ï¼Œå¦‚ä½•ä½¿å¾—æ•ˆçŽ‡è¾ƒé«˜ã€å‡å°‘æ…¢é€Ÿé€šä¿¡å¸¦æ¥æŸè€—

æ¯æ¬¡éœ€è¦é’ˆå¯¹é—®é¢˜è®¾è®¡åˆ†å¸ƒå¼ç®—æ³•å¸¦æ¥é—®é¢˜ï¼šç®—æ³•è®¾è®¡è€…ä¸ä¸€å®šå¯¹ç³»ç»Ÿåº•å±‚å¾ˆäº†è§£ï¼Œéœ€è¦å¤šæ¬¡ä¸Žå·¥ç¨‹å¸ˆæ²Ÿé€š

map reduceæä¾›äº†å°è£…æ¡†æž¶ï¼šæä¾›æŠ½è±¡ä¹‹åŽï¼Œåº•å±‚å³å¯å¹¶è¡Œè¿è¡Œ

> MapReduce is a programming model and an associated implementation for processing and generating big data sets with a parallel, distributed algorithm on a cluster.[1][2][3]
A MapReduce program is composed of a map procedure, which performs filtering and sorting (such as sorting students by first name into queues, one queue for each name), and a reduce method, which perf